<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/jpeg" sizes="64x64" href="/img/icons.jpeg" />
    <title>Online Shopping</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Merienda:wght@300..900&family=Monsieur+La+Doulaise&family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>
  <body>
    <section id="header">
      <a href="#"><img src="img/logo.png" class="logo" alt="None" /></a>

      <div>
        <ul id="navbar">
          <a href="#" id="close"><i class="fa-solid fa-xmark"></i></a>
          <li>
            <a href="index.html"
              ><i class="fa-solid fa-house fa-1x"></i> Home</a
            >
          </li>
          <li>
            <a href="shop.html"><i class="fa-solid fa-store fa-1x"></i> Shop</a>
          </li>
          <li>
            <a href="blog.html"><i class="fa-solid fa-blog"></i> Blog</a>
          </li>
          <li>
            <a href="about.html"
              ><i class="fa-solid fa-address-card fa-1x"></i> About</a
            >
          </li>
          <li>
            <a class="active" href="contact.html"
              ><i class="fa-solid fa-phone fa-1x"></i> Contact</a
            >
          </li>
          <li id="lg-bag">
            <a href="cart.html"
              ><i class="fa-solid fa-cart-plus fa-1x"></i> Cart</a
            >
          </li>
          <li id="login-signup-nav">
            <a href="#" id="login-btn">Login</a> /
            <a href="#" id="signup-btn">Signup</a>
          </li>
          <li id="user-nav" style="display: none">
            <span id="user-name" style="font-weight: bold"></span
            ><a href="#" id="logout-btn" style="margin-left: 16px">Logout</a>
          </li>
          <script>
            // Restrict cart access
            document.addEventListener("DOMContentLoaded", function () {
              var user = JSON.parse(localStorage.getItem("user"));
              const cartLink = document.getElementById("cart-link");
              if (cartLink) {
                cartLink.onclick = function (e) {
                  if (!user || !user.username) {
                    e.preventDefault();
                    alert("Please login/signup to access your cart!");
                  }
                };
              }
            });
            let user = JSON.parse(localStorage.getItem("user"));
            function updateNavbarAuth() {
              const loginNav = document.getElementById("login-signup-nav");
              const userNav = document.getElementById("user-nav");
              const userNameSpan = document.getElementById("user-name");
              if (user && user.username) {
                loginNav.style.display = "none";
                userNav.style.display = "";
                userNameSpan.textContent = `ðŸ‘‹ Hello ${user.username}!`;
              } else {
                loginNav.style.display = "";
                userNav.style.display = "none";
              }
            }
            updateNavbarAuth();

            document.getElementById("login-btn").onclick = function () {
              const username = prompt("Enter username:");
              const password = prompt("Enter password:");
              if (!username || !password)
                return alert("Username and password required");
              fetch("/api/login", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ username, password }),
              })
                .then((res) => res.json())
                .then((data) => {
                  if (data.message === "Login successful") {
                    user = { username };
                    localStorage.setItem("user", JSON.stringify(user));
                    updateNavbarAuth();
                    alert("Login successful");
                  } else {
                    alert(data.message || "Login failed");
                  }
                });
            };

            document.getElementById("signup-btn").onclick = function () {
              const username = prompt("Choose username:");
              const password = prompt("Choose password:");
              if (!username || !password)
                return alert("Username and password required");
              fetch("/api/signup", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ username, password }),
              })
                .then((res) => res.json())
                .then((data) => {
                  if (data.message === "Signup successful") {
                    user = { username };
                    localStorage.setItem("user", JSON.stringify(user));
                    updateNavbarAuth();
                    alert("Signup successful");
                  } else {
                    alert(data.message || "Signup failed");
                  }
                });
            };

            document.getElementById("logout-btn").onclick = function () {
              user = null;
              localStorage.removeItem("user");
              updateNavbarAuth();
              alert("Logged out");
              window.location.href = "index.html";
            };
          </script>
        </ul>
      </div>
      <div id="mobile">
        <a href="cart.html"><i class="fa-solid fa-cart-plus fa-2x"></i></a>
        <i id="bar" class="fas fa-outdent fa-2x"></i>
      </div>
    </section>

    <section id="page-header" class="about-head">
      <h2>Lets Get in Touch</h2>
      <p>
        Weâ€™re here to assist with any inquiries, collaborations, or support you
        may need. <br />
        Reach out to us â€” our team is ready to help.
      </p>
      <br />
    </section>

    <section id="contact-det" class="section-p1">
      <div class="details">
        <span>GET IN TOUCH</span>
        <h2>Visit one of our Agency Locations or Contact us now</h2>
        <h3>Head Office</h3>
        <div class="icons">
          <i class="fa-solid fa-map-pin">
            <span
              >1600 Amphitheatre Parkway, Mountain View, California USA
              94043</span
            >
          </i>
          <i class="fa-solid fa-envelope">
            <span>shopsphere@gmail.com</span>
          </i>
          <i class="fa-solid fa-phone">
            <span>+01 2224 333</span>
          </i>
          <i class="fa-solid fa-clock">
            <span>Monday to Saturday : 9:00 to 17:00 </span>
          </i>
        </div>
      </div>
      <div class="map">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3168.729941414214!2d-122.08298160000001!3d37.4198576!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808fbb1cd91f8617%3A0x1c8432b9340fdff!2s1600%20Amphitheatre%20Pkwy%2C%20Mountain%20View%2C%20CA%2094043%2C%20USA!5e0!3m2!1sen!2sin!4v1748279312034!5m2!1sen!2sin"
          width="600"
          height="450"
          style="border: 0"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
        ></iframe>
      </div>
    </section>

    <section id="forms">
      <form action="">
        <span>LEAVE A MESSAGE</span>
        <h2>We Love to hear from you</h2>
        <input type="text" placeholder="Your Name" />
        <input type="email" placeholder="Email-ID" />
        <input type="text" placeholder="Subject" />
        <textarea placeholder="Your Message"></textarea>
        <button class="normal">Submit</button>
      </form>
      <div class="people">
        <div>
          <img src="img/people/1.png" alt="" />
          <p>
            <span> John Doel</span> Senior Marketing Manager<br />Phone: +01
            0023 2311<br />
            Email-ID:johndoel@gmail.com
          </p>
        </div>
        <div>
          <img src="img/people/2.png" alt="" />
          <p>
            <span> Mark Smith</span> Senior Marketing Manager<br />Phone: +01
            0121 9301<br />
            Email-ID:marksmith@gmail.com
          </p>
        </div>
        <div>
          <img src="img/people/3.png" alt="" />
          <p>
            <span> Emma Carl</span> Senior Marketing Manager<br />Phone: +01
            6093 5218<br />
            Email-ID:emmacarl@gmail.com
          </p>
        </div>
      </div>
    </section>

    <section id="banner4">
      <div class="texts">
        <h4>Sign up for Newsletters</h4>
        <p>
          Get E-mail updates about our latest shop and
          <span>special offers.</span>
        </p>
      </div>
      <div class="email-sign">
        <input class="email" type="text" placeholder=" Your Email-ID" /><button
          class="sign"
        >
          Sign Up
        </button>
      </div>
    </section>

    <footer id="footer" class="section-p1">
      <div class="col">
        <img class="logo" src="img/logo.png" />
        <h4>Contact</h4>
        <h6><strong>Address: </strong> 22 Main St, New York, NY 10003, USA</h6>
        <h6><strong>Phone: </strong>+01 2224 322</h6>
        <h6><strong>Working Slots: </strong> 10:00 - 18:30, Mon-Sat</h6>
        <div class="follow">
          <h6>Follow Us On</h6>
          <icon>
            <i class="fa-brands fa-twitter"></i>
            <i class="fa-brands fa-instagram"></i>
            <i class="fa-brands fa-facebook"></i>
          </icon>
        </div>
      </div>
      <div class="col">
        <h4>About</h4>
        <a href="about.html">About us</a>
        <a href="privacy.html">Privacy Policy</a>
        <a href="terms.html">Terms and Condition</a>
        <a href="contact.html">Contact</a>
      </div>
      <div class="col">
        <h4>My Account</h4>
        <a href="cart.html">View Cart</a>
        <a href="#">Help</a>
      </div>
      <div class="col install">
        <h4>Secured Payment Gateways</h4>
        <img src="img/pay/pay.png" />
      </div>
      <div class="copyright">
        <p>Â© 2025, Happy Shopping - ShopSphere By Swami</p>
      </div>
    </footer>

    <script src="script.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var user = JSON.parse(localStorage.getItem("user"));
        var cartLink = document.querySelector("#lg-bag a");
        if (cartLink) {
          cartLink.addEventListener("click", function (e) {
            if (!user || !user.username) {
              e.preventDefault();
              alert("Please login/signup to access your cart!");
            }
          });
        }
      });
    </script>
  </body>
</html>
